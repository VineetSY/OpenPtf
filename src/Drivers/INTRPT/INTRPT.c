/*************************************************************************************************
 * Module name: INTRPT.c
 *
 * Purpose:
 *
 * Created on: 18-Apr-2020
 *
 * Author: Vineet
 *************************************************************************************************/


/*************************************************************************************************
 *	Includes
 *************************************************************************************************/
#include "stm32l4xx.h"
#include "Types.h"
#include "GPIO.h"

/*************************************************************************************************
 *	MACRO
 *************************************************************************************************/


/*************************************************************************************************
 *	Private variables
 *************************************************************************************************/


/*************************************************************************************************
 *	Global variables
 *************************************************************************************************/

/*************************************************************************************************
 *	Private function prototypes
 *************************************************************************************************/


/*************************************************************************************************
 *	Function Definitions
 *************************************************************************************************/


/*************************************************************************************************
 *  @name - TIM2_IRQHandler
 *
 *  @summary - TIM2 timer interrupt handler
 *
 *  @param - NA
 *
 *  @retval - NA
 *************************************************************************************************/
void TIM2_IRQHandler(void)
{
	static uint32 i;
	i++;
	//Turn OFF the LED at port PA5
	if(i > 100000)
	{
		i = 0;
		GPIO_PinMode_Update((uint8)GPIO_PA5, (uint8)MODE_LOW);
		GPIO_PinMode_Update((uint8)GPIO_PA6, (uint8)MODE_HIGH);
	}
	else if (i == 50000)
	{
		GPIO_PinMode_Update((uint8)GPIO_PA5, (uint8)MODE_HIGH);
		GPIO_PinMode_Update((uint8)GPIO_PA6, (uint8)MODE_LOW);
	}
	else
	{
		//Do nothing
	}

	return;
}


